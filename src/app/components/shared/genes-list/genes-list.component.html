<ng-container
  *ngIf="
    (isGoTermsMode && isGoSearchPerformed && !isGoTermsModeError) ||
    (!isGoTermsMode && searchedData?.length)">

  <!-- Filters Panel -->
  <ng-container *ngIf="showFiltersPanel">
    <app-filter-panel
      [isMobile]="isMobile"
      [isGoTermsMode]="isGoTermsMode"
      [downloadJsonLink]="downloadJsonLink"
      (tableView)="toggleGenesView($event)"
      (sortItem)="sortBy($event)"
      (clearFilterItem)="clearFilters($event)"
    ></app-filter-panel>
  </ng-container>


  <!-- Content -->
  <section
    *ngIf="searchedData?.length"
    class="view-content"
    [ngClass]="asTableRow && !isMobile ? 'view-content--as-table' : 'view-content--as-cards'">

    <!-- Table view -->
    <ng-container *ngIf="asTableRow && !isMobile">
      <table>
        <thead>
        <app-genes-table-header
          [isGoTermsMode]="isGoTermsMode">
        </app-genes-table-header>
        </thead>

        <ng-container *ngIf="isGoTermsMode; else table">
          <app-gene-annotations-table-row *ngFor="let rowData of searchedData"
                                          [item]="rowData"
                                          [goModeCellData]="goModeCellData">
          </app-gene-annotations-table-row>
        </ng-container>

        <ng-template #table>
          <app-gene-table-row *ngFor="let rowData of searchedData"
                              [item]="rowData">
          </app-gene-table-row>
        </ng-template>

      </table>
    </ng-container>

    <!-- Card view -->
    <ng-container *ngIf="!asTableRow || isMobile">
      <ng-container *ngIf="isGoTermsMode; else card">
        <app-gene-annotations-card class="card" *ngFor="let rowData of searchedData"
                                   [item]="rowData"
                                   [goModeCellData]="goModeCellData">
        </app-gene-annotations-card>
      </ng-container>

      <ng-template #card>
        <app-gene-card class="card" *ngFor="let rowData of searchedData"
                       [item]="rowData">
        </app-gene-card>
      </ng-template>

    </ng-container>
  </section>

  <!-- Show more Button -->
  <div
    class="btn-wrap show-more"
    *ngIf="currentPage <= pageOptions.pagesTotal && searchedData.length >= pageOptions.pageSize">
    <button (click)="loadMoreGenes()"
            class="btn show-more__button">
      {{ "show_more" | translate }}
    </button>
  </div>

</ng-container>

<!-- No content error message -->
<section
  *ngIf="
    (isGoTermsMode && isGoSearchPerformed && !isLoading && searchedData?.length == 0) ||
    (!isGoTermsMode && searchedData?.length == 0 && !loaded )">
  <app-no-content
    [title]="'nothing_found'">
    <ng-container icon>
      <app-icon
        icon="default"
        size="custom"
        customWidth="100%"
        customHeight="100%"
      ></app-icon>
    </ng-container>
  </app-no-content>
</section>

<!-- GO search mode start message -->
<section *ngIf="isGoTermsMode && !isGoSearchPerformed && !isLoading">
  <app-no-content
    [title]="'go_results_start_title'">
    <ng-container icon>
      <app-icon
        icon="default"
        size="custom"
        customWidth="100%"
        customHeight="100%"
      ></app-icon>
    </ng-container>
    <ng-container description>
      <p>{{ 'go_results_start_description' | translate }}</p>
    </ng-container>
  </app-no-content>
</section>

<ng-container *ngIf="isGoTermsMode && isLoading">
  <app-spinner></app-spinner>
</ng-container>


