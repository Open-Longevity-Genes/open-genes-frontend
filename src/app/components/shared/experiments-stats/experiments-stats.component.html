<div class="researches" *ngIf="researches"
     (click)="openBottomSheet($event, researchStatsHint)">
  <ng-container
    *ngFor="let research of researches | keyvalue"
    [ngTemplateOutlet]="bar"
    [ngTemplateOutletContext]="{ research: research.key }"
  ></ng-container>
</div>

<ng-template #bar let-research="research">
  <div *ngIf="research !== 'additionalEvidences'"
       class="research"
       [ngClass]="research | setClassName">
      <span class="research__scale"
            [style.height.%]="(researches[research]?.length * 100) / maxValue"
      ></span>
    <span class="research__value">{{researches[research]?.length}}</span>
  </div>
</ng-template>

<ng-template #researchStatsHint>
  <div class="legend-container">
    <div *ngFor="let item of legend"
         class="legend-container__item"
         [ngClass]="item.cssClass">
      {{ item.title | translate }}
    </div>
  </div>
</ng-template>

