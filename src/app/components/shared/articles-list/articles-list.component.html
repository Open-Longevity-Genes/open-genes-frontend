<ng-container *ngIf="articlesList.length !== 0; else skeleton">
  <ng-container *ngFor="let article of articlesList | slice: 0:sliceTo">
    <div class="article {{ isMiniMode ? 'article--mini' : 'col-xs-12 col-sm-6 col-lg-6 col-xl-3' }}">
      <div class="article__card">
        <div class="article__cover">
          <div
            class="cover__backdrop"
            [style.backgroundImage]="
            article.image.src.length !== 0
              ? 'url(' + article.image.src + ')'
              : 'url(' + defaultCover + ')'
          "
          ></div>

          <div class="article__top-group">
            <a
              href="{{ environment.openLongevity80LevelCMS }}/articles/{{
                  article.slug"
              target="_blank"
              class="article__image"
              [style.backgroundImage]="
              article.image.src.length !== 0
                ? 'url(' + article.image.src2x + ')'
                : 'url(' + defaultCover + ')'
            "
            ></a>
            <div class="article__text">
              <h3>
                <a
                  href="{{ environment.openLongevity80LevelCMS }}/articles/{{
                  article.slug
                }}"
                  target="_blank"
                >{{ article.title }}</a
                >
              </h3>
              <div *ngIf="!isMiniMode"
                   class="truncated-text">
                {{ article.description | truncate: 250 }}
              </div>
            </div>
          </div>

          <div *ngIf="!isMiniMode"
               class="article__tags">
            <a
              *ngFor="let tag of article.tags"
              href="{{ environment.openLongevity80LevelCMS }}/articles/{{
              tag.slug
            }}"
              target="_blank"
              class="alias"
            >
              {{ tag.name }}
            </a>
          </div>
        </div>

        <div *ngIf="!isMiniMode"
             class="article__footer">
          <a
            href="{{ environment.openLongevity80LevelCMS }}/author/{{
            article.author.pseudonym
          }}"
            target="_blank"
            class="article__author"
          >
            <div
              class="author__avatar"
              [style.backgroundImage]="
              article.author.avatar.length !== 0
                ? 'url(' + article.author.avatar + ')'
                : 'url(' + defaultAvatar + ')'
            "
            ></div>
            <div class="author__name">
              {{ article.author.name }}
            </div>
          </a>
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>

<div *ngIf="!isMiniMode && showMoreButtonVisible"
     class="__mt-15 btn-wrap show-more">
  <button class="btn show-more__button"
          (click)="showMore()"
          [disabled]="isLoading">
    {{ "show_more" | translate }}
    <span *ngIf="isLoading" class="fas fa-circle-notch fa-spin"></span>
  </button>
</div>

<ng-template #skeleton>
  <div class="skeleton">
    <app-skeleton
      [groups]="responsePagePortion"
    ></app-skeleton>
  </div>
</ng-template>

<ng-template *ngIf="articlesTotal === 0 || error">
  <section class="col-12 no-content">
    <div class="no-content__inner">
      <div class="no-content__icon no-content__icon-standard"></div>
      <div class="no-content__title">
        <div class="title__center">
          {{ 'news_page_no_articles' | translate }}
        </div>
      </div>
    </div>
  </section>
</ng-template>
